var App={_config:{},run:function(){this._enableStickyNav(),this._enableStickyArticleIndex(),this._enablePopups(),this._enableModalDevis(),this._enableModalIntervention(),this._enableScrollSpy(),this._enableSmoothScroll(),this._enableGlide()},trackDownloads:function(){$("body.article #pdf-download-btn").on("click",function(){ga("send","event","button","click","full-pdf",1)}),$("body.article #source-download-btn").on("click",function(){ga("send","event","button","click","full-sources",1)}),$("body.article #pdf-template-1-download-btn").on("click",function(){ga("send","event","button","click","template-1-pdf",1)}),$("body.article #pdf-template-2-download-btn").on("click",function(){ga("send","event","button","click","template-2-pdf",1)}),$("body.article #pdf-template-3-download-btn").on("click",function(){ga("send","event","button","click","template-3-pdf",1)}),$("body .track-pdf-download").on("click",function(t){ga("send","event","pdf","download",t.target.text,1)})},_enableStickyNav:function(){$(window).width()>992&&$(".sticky-nav").visibility({type:"fixed",zIndex:999})},_enableStickyArticleIndex:function(){var t=130;$(window).height()<=750&&(t=120),$(window).width()>992&&$(".sticky-article-index").sticky({offset:t})},_enableScrollSpy:function(){var t=$("h1.spy, h2.spy, h3.spy"),e=$(".spy-menu"),i=e.data("spy-offset"),o={section:function(){var i=$(this),o=t.index(i),n=e.children("a"),a=n.eq(o);a.hasClass("active")||(n.filter(".active").removeClass("active"),a.addClass("active"))},previous:function(){var t=e.children("a"),i=t.filter(".active");t.index(i);i.prev().length>0&&i.removeClass("active").prev("a").addClass("active")}};t.visibility({observeChanges:!1,once:!1,offset:i,onTopPassed:o.section,onTopPassedReverse:o.previous})},_enableSmoothScroll:function(){var t=$(".smooth-menu"),e=t.data("smooth-offset");t.find("a[href]").on("click",function(t){var i=$(this).attr("href").replace("#",""),o=$("#"+i),n=o.offset().top-e;return o.addClass("active"),$("html, body").animate({scrollTop:n},500),location.hash="#"+i,t.stopImmediatePropagation(),t.preventDefault(),!1})},_enablePopups:function(){var t=$("#nav-mobile").modal({transition:"horizontal flip"});$("#bt-nav-mobile").on("click",function(){t.modal("show")}),$(".popup").popup({on:"click"}),$("#bt-contact").popup({on:"click"})},_enableModalDevis:function(){var t=$("#popup-devis"),e=t.find("form"),i=t.find(".actions"),o=t.find(".button.submit"),n=t.find(".button.close");e.form({on:"blur",fields:{nomPrenom:{identifier:"nom-prenom",rules:[{type:"empty"}]},email:{identifier:"email",rules:[{type:"email"}]}},onSuccess:function(t,n){e.addClass("loading"),o.addClass("disabled"),t.preventDefault(),$.ajax({url:e.attr("action"),method:"POST",data:n,dataType:"json",success:function(){e.form("reset"),e.removeClass("loading"),i.hide(),o.removeClass("disabled"),e.hide(),e.next(".message").show()}})}}),o.on("click",function(){e.submit()}),n.on("click",function(){t.modal("hide")}),t.modal({transition:"horizontal flip",onHide:function(){i.show(),e.show(),e.next(".message").hide()}}),$("#bt-devis").on("click",function(){t.modal("show")})},_enableModalIntervention:function(){var t=$("#popup-intervention"),e=t.find("form"),i=t.find(".actions"),o=t.find(".button.submit"),n=t.find(".button.close");e.form({on:"blur",fields:{nomPrenom:{identifier:"nom-prenom",rules:[{type:"empty"}]},email:{identifier:"email",rules:[{type:"email"}]}},onSuccess:function(t,n){e.addClass("loading"),o.addClass("disabled"),t.preventDefault(),$.ajax({url:e.attr("action"),method:"POST",data:n,dataType:"json",success:function(){e.form("reset"),e.removeClass("loading"),i.hide(),o.removeClass("disabled"),e.hide(),e.next(".message").show()}})}}),o.on("click",function(){e.submit()}),n.on("click",function(){t.modal("hide")}),t.modal({transition:"horizontal flip",onHide:function(){i.show(),e.show(),e.next(".message").hide()}}),$("#bt-intervention").on("click",function(){t.modal("show")})},_enableGlide:function(){var t=$(".portrait .glide").glide({type:"slider",touchDistance:!1,dragDistance:!1,hoverpause:!1,autoplay:!1}).data("glide_api");$(".testimony .glide").glide({type:"slider",autoplay:5500}).on("swipeEnd.glide",function(e,i){t.go("="+i.index)}).on("duringTransition.glide",function(e,i){t.go("="+i.index)}).on("swipeMove.glide",function(e,i){t.animate(i.swipe.distance)})}},AppHelpers={getHighestDensityImageSrc:function(t){if(t){var e=this.parseSrcset(t),i="",o=0;return $.each(e,function(t,e){e.density?e.density>o&&(i=e.url):(i=e.url,o=1)}),i}},parseSrcset:function(t){var e=Number.isNaN||function(t){return t!==t},i=/^\d+$/;return this._deepUnique(t.split(",").map(function(t){var o={};return t.trim().split(/\s+/).forEach(function(t,n){if(0===n)return o.url=t;var a=t.substring(0,t.length-1),s=t[t.length-1],r=parseInt(a,10),l=parseFloat(a);if("w"===s&&i.test(a))o.width=r;else if("h"===s&&i.test(a))o.height=r;else{if("x"!==s||e(l))throw new Error("Invalid srcset descriptor: "+t+".");o.density=l}}),o}))},_deepUnique:function(t){return t.sort().filter(function(e,i){return JSON.stringify(e)!==JSON.stringify(t[i-1])})}};+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,o=this;t(this).one("bsTransitionEnd",function(){i=!0});return setTimeout(function(){i||t(o).trigger(t.support.transition.end)},e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(t){"use strict";function e(){this._activeZoom=this._initialScrollPosition=this._initialTouchPosition=this._touchMoveListener=null,this._$document=t(document),this._$window=t(window),this._$body=t(document.body),this._boundClick=t.proxy(this._clickHandler,this)}function i(e){this._fullHeight=this._fullWidth=this._overlay=this._targetImageWrap=null,this._targetImage=e,this._$body=t(document.body)}e.prototype.listen=function(){this._$body.on("click",'[data-action="zoom"]',t.proxy(this._zoom,this))},e.prototype._zoom=function(e){var o=e.target;if(o&&"IMG"==o.tagName&&!this._$body.hasClass("zoom-overlay-open")){if(e.metaKey||e.ctrlKey)return window.open(e.target.getAttribute("data-original")||e.target.src,"_blank");if(!(o.width>=t(window).width()-i.OFFSET)){this._activeZoomClose(!0);var n=o.src,a=o.getAttribute("srcset"),s=o.width,r=o.height;o.org={src:n,srcset:a,width:s,height:r};var l=document.createElement("div"),c=document.createElement("div");c.className="ui active inverted dimmer",c.style.height=o.org.height+"px",c.style.width=o.org.width+"px",l.className="ui loader",c.appendChild(l),o.parentNode.appendChild(c);var d=document.createElement("img");d.onload=t.proxy(function(){o.removeAttribute("srcset"),o.src=d.src,o.width=o.org.width,o.height=o.org.height,o.parentNode.removeChild(c),this._activeZoom=new i(o),this._activeZoom.zoomImage()},this),d.src=AppHelpers.getHighestDensityImageSrc(o.org.srcset)||o.org.src,this._$window.on("scroll.zoom",t.proxy(this._scrollHandler,this)),this._$document.on("keyup.zoom",t.proxy(this._keyHandler,this)),this._$document.on("touchstart.zoom",t.proxy(this._touchStart,this)),document.addEventListener?document.addEventListener("click",this._boundClick,!0):document.attachEvent("onclick",this._boundClick,!0),"bubbles"in e?e.bubbles&&e.stopPropagation():e.cancelBubble=!0}}},e.prototype._activeZoomClose=function(t){this._activeZoom&&(t?this._activeZoom.dispose():this._activeZoom.close(),this._$window.off(".zoom"),this._$document.off(".zoom"),document.removeEventListener("click",this._boundClick,!0),this._activeZoom=null)},e.prototype._scrollHandler=function(e){null===this._initialScrollPosition&&(this._initialScrollPosition=t(window).scrollTop());var i=this._initialScrollPosition-t(window).scrollTop();Math.abs(i)>=40&&this._activeZoomClose()},e.prototype._keyHandler=function(t){27==t.keyCode&&this._activeZoomClose()},e.prototype._clickHandler=function(t){t.preventDefault?t.preventDefault():event.returnValue=!1,"bubbles"in t?t.bubbles&&t.stopPropagation():t.cancelBubble=!0,this._activeZoomClose()},e.prototype._touchStart=function(e){this._initialTouchPosition=e.touches[0].pageY,t(e.target).on("touchmove.zoom",t.proxy(this._touchMove,this))},e.prototype._touchMove=function(e){Math.abs(e.touches[0].pageY-this._initialTouchPosition)>10&&(this._activeZoomClose(),t(e.target).off("touchmove.zoom"))},i.OFFSET=80,i._MAX_WIDTH=2560,i._MAX_HEIGHT=4096,i.prototype.zoomImage=function(){var e=document.createElement("img");e.onload=t.proxy(function(){this._targetImage.src=e.src,this._fullHeight=Number(e.height),this._fullWidth=Number(e.width),this._zoomOriginal()},this),e.src=this._targetImage.src},i.prototype._zoomOriginal=function(){this._targetImageWrap=document.createElement("div"),this._targetImageWrap.className="zoom-img-wrap",this._targetImage.parentNode.insertBefore(this._targetImageWrap,this._targetImage),this._targetImageWrap.appendChild(this._targetImage),t(this._targetImage).addClass("zoom-img").attr("data-action","zoom-out"),this._overlay=document.createElement("div"),this._overlay.className="zoom-overlay",document.body.appendChild(this._overlay),this._calculateZoom(),this._triggerAnimation()},i.prototype._calculateZoom=function(){this._targetImage.offsetWidth;var e=this._fullWidth,o=this._fullHeight,n=(t(window).scrollTop(),e/this._targetImage.width),a=t(window).height()-i.OFFSET,s=t(window).width()-i.OFFSET,r=e/o,l=s/a;this._imgScaleFactor=e<s&&o<a?n:r<l?a/o*n:s/e*n},i.prototype._triggerAnimation=function(){this._targetImage.offsetWidth;var e=t(this._targetImage).offset(),i=t(window).scrollTop()+t(window).height()/2,o=t(window).width()/2,n=e.top+this._targetImage.height/2,a=e.left+this._targetImage.width/2;this._translateY=i-n,this._translateX=o-a;var s="scale("+this._imgScaleFactor+")",r="translate("+this._translateX+"px, "+this._translateY+"px)";t.support.transition&&(r+=" translateZ(0)"),t(this._targetImage).css({"-webkit-transform":s,"-ms-transform":s,transform:s}),t(this._targetImageWrap).css({"-webkit-transform":r,"-ms-transform":r,transform:r}),this._$body.addClass("zoom-overlay-open")},i.prototype.close=function(){if(this._$body.removeClass("zoom-overlay-open").addClass("zoom-overlay-transitioning"),this._targetImage.src=this._targetImage.org.src,this._targetImage.org.srcset&&this._targetImage.setAttribute("srcset",this._targetImage.org.srcset),t(this._targetImage).css({"-webkit-transform":"","-ms-transform":"",transform:""}),t(this._targetImageWrap).css({"-webkit-transform":"","-ms-transform":"",transform:""}),!t.support.transition)return this.dispose();t(this._targetImage).one(t.support.transition.end,t.proxy(this.dispose,this)).emulateTransitionEnd(300)},i.prototype.dispose=function(){this._targetImageWrap&&this._targetImageWrap.parentNode&&(t(this._targetImage).removeClass("zoom-img").attr("data-action","zoom"),this._targetImageWrap.parentNode.replaceChild(this._targetImage,this._targetImageWrap),this._overlay.parentNode.removeChild(this._overlay),this._$body.removeClass("zoom-overlay-transitioning"))},t(function(){(new e).listen()})}(jQuery);
